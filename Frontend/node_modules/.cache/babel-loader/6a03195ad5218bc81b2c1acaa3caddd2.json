{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\lejla\\\\Desktop\\\\MoE-II semestar\\\\PNWT\\\\ProjectFinal\\\\Frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\lejla\\\\Desktop\\\\MoE-II semestar\\\\PNWT\\\\ProjectFinal\\\\Frontend\\\\src\\\\components\\\\AllReservations.js\";\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { classNames } from 'primereact/utils';\nimport { FilterMatchMode, FilterOperator } from 'primereact/api';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Button } from 'primereact/button';\nimport { ProgressBar } from 'primereact/progressbar';\nimport { Calendar } from 'primereact/calendar';\nimport { MultiSelect } from 'primereact/multiselect';\nimport { Slider } from 'primereact/slider';\nimport { TriStateCheckbox } from 'primereact/tristatecheckbox';\nimport { ToggleButton } from 'primereact/togglebutton';\nimport { Rating } from 'primereact/rating';\nimport { CustomerService } from '../service/CustomerService';\nimport { ProductService } from '../service/ProductService';\nimport axios from \"axios\";\nimport useAuth from \"../hooks/useAuth\";\nimport { Dropdown } from 'primereact/dropdown';\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\n\nvar AllReservations = function AllReservations() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      reservations = _useState2[0],\n      setReservations = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading1 = _useState4[0],\n      setLoading1 = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      allReservations = _useState6[0],\n      setAllReservations = _useState6[1];\n\n  var url = \"http://localhost:8090/reservation/reservations\";\n  var axiosPrivate = useAxiosPrivate();\n\n  var _useAuth = useAuth(),\n      auth = _useAuth.auth;\n\n  var getAllReservations = function getAllReservations() {\n    return axiosPrivate.get(url, {\n      headers: {\n        'Authorization': 'Bearer ' + (auth === null || auth === void 0 ? void 0 : auth.accessToken)\n      }\n    }).then(function (res) {\n      setReservations(res.data);\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else if (error.request) {\n        console.log(error.request);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n  };\n\n  useEffect(function () {\n    getAllReservations();\n    setLoading1(false);\n  }, []);\n  useEffect(function () {\n    setLoading1(false);\n    reservations.forEach(function (reser) {\n      var newRes = {\n        startDate: reser.startDate,\n        endDate: reser.endDate,\n        service: reser.service.name\n      };\n      allReservations.push(newRes);\n    });\n  }, [reservations]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid table-demo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Reservations\"), /*#__PURE__*/React.createElement(DataTable, {\n    value: allReservations,\n    paginator: true,\n    className: \"p-datatable-gridlines\",\n    showGridlines: true,\n    rows: 10,\n    dataKey: \"id\",\n    loading: loading1,\n    responsiveLayout: \"scroll\",\n    emptyMessage: \"No reservations found.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Column, {\n    header: \"Start date\",\n    field: \"startDate\",\n    style: {\n      minWidth: '12rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    header: \"End date\",\n    field: \"endDate\",\n    style: {\n      minWidth: '14rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Column, {\n    header: \"Service\",\n    field: \"service\",\n    style: {\n      minWidth: '14rem'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  })))));\n};\n\nvar comparisonFn = function comparisonFn(prevProps, nextProps) {\n  return prevProps.location.pathname === nextProps.location.pathname;\n};\n\nexport default React.memo(AllReservations, comparisonFn);","map":{"version":3,"names":["React","useState","useEffect","useCallback","classNames","FilterMatchMode","FilterOperator","DataTable","Column","Button","ProgressBar","Calendar","MultiSelect","Slider","TriStateCheckbox","ToggleButton","Rating","CustomerService","ProductService","axios","useAuth","Dropdown","useAxiosPrivate","AllReservations","reservations","setReservations","loading1","setLoading1","allReservations","setAllReservations","url","axiosPrivate","auth","getAllReservations","get","headers","accessToken","then","res","data","catch","error","response","console","log","status","request","message","forEach","reser","newRes","startDate","endDate","service","name","push","minWidth","comparisonFn","prevProps","nextProps","location","pathname","memo"],"sources":["C:/Users/lejla/Desktop/MoE-II semestar/PNWT/ProjectFinal/Frontend/src/components/AllReservations.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { classNames } from 'primereact/utils';\r\nimport { FilterMatchMode, FilterOperator } from 'primereact/api';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Button } from 'primereact/button';\r\nimport { ProgressBar } from 'primereact/progressbar';\r\nimport { Calendar } from 'primereact/calendar';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { Slider } from 'primereact/slider';\r\nimport { TriStateCheckbox } from 'primereact/tristatecheckbox';\r\nimport { ToggleButton } from 'primereact/togglebutton';\r\nimport { Rating } from 'primereact/rating';\r\nimport { CustomerService } from '../service/CustomerService';\r\nimport { ProductService } from '../service/ProductService';\r\nimport axios from \"axios\";\r\nimport useAuth from \"../hooks/useAuth\";\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport useAxiosPrivate from \"../hooks/useAxiosPrivate\";\r\n\r\nconst AllReservations = () => {\r\n\r\n    const [reservations, setReservations] = useState([]);\r\n    const [loading1, setLoading1] = useState(true);\r\n    const [allReservations, setAllReservations] = useState([]);\r\n    const url = \"http://localhost:8090/reservation/reservations\";\r\n    \r\n    const axiosPrivate = useAxiosPrivate();\r\n    const { auth } = useAuth();\r\n \r\n    const getAllReservations = () =>{ \r\n        return axiosPrivate.get(url, {\r\n            headers: {\r\n                'Authorization': 'Bearer ' + auth?.accessToken\r\n            }\r\n    }).then(res => {\r\n                setReservations(res.data)\r\n               \r\n            }).catch(function (error) {\r\n                if (error.response) {\r\n                    console.log(error.response.data);\r\n                    console.log(error.response.status);\r\n                    console.log(error.response.headers);\r\n                } else if (error.request) {                \r\n                    console.log(error.request);\r\n                } else {                    \r\n                    console.log('Error', error.message);\r\n                }\r\n            });\r\n\r\n    }   \r\n\r\n   \r\n\r\n    useEffect(() => {\r\n        getAllReservations();\r\n        setLoading1(false);\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        setLoading1(false);\r\n        reservations.forEach(reser => {\r\n            const newRes = {\r\n                startDate: reser.startDate,\r\n                endDate:reser.endDate,\r\n                service:reser.service.name\r\n\r\n            }\r\n            allReservations.push(newRes);\r\n        })\r\n    }, [reservations]);\r\n  \r\n\r\n    return (\r\n    <div className=\"grid table-demo\">\r\n    <div className=\"col-12\">\r\n        <div className=\"card\">\r\n            <h5>Reservations</h5>\r\n            <DataTable value={allReservations} paginator className=\"p-datatable-gridlines\" showGridlines rows={10}\r\n                        dataKey=\"id\"  loading={loading1} responsiveLayout=\"scroll\"\r\n                          emptyMessage=\"No reservations found.\">\r\n                        <Column  header=\"Start date\" field=\"startDate\" style={{ minWidth: '12rem' }} />\r\n                        <Column header=\"End date\" field=\"endDate\" style={{ minWidth: '14rem' }} />\r\n                        <Column header=\"Service\" field=\"service\" style={{ minWidth: '14rem' }} />\r\n                    </DataTable>\r\n        </div>\r\n    </div>\r\n    </div>\r\n    );\r\n\r\n    \r\n}\r\n\r\nconst comparisonFn = function (prevProps, nextProps) {\r\n    return prevProps.location.pathname === nextProps.location.pathname;\r\n};\r\n\r\nexport default React.memo(AllReservations, comparisonFn);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}